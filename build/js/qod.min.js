!function(o){o(function(){let e="";o("#new-quote-button").on("click",function(t){t.preventDefault(),e=document.URL,o.ajax({method:"get",url:qod_api.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(e){const t=e[0],n=o(".entry-content"),u=t.content.rendered,s=o(".entry-title"),l=t.title.rendered;let r,a;const c=t.slug,i=qod_api.home_url+"/"+c+"/";history.pushState(null,null,i),n.html(u),t._qod_quote_source&&t._qod_quote_source_url?(r=t._qod_quote_source,a=t._qod_quote_source_url,s.html(`\n                    — <span class="author">${l}</span>, \n                    <span class="source">\n                        <a href="${a}">\n                        ${r}\n                        </a>\n                    </span>`)):t._qod_quote_source?(r=t._qod_quote_source,s.html(`\n                        — <span class="author">${l}</span>, \n                        <span class="source">\n                        ${r}\n                        </span>\n                    `)):s.html(`\n                        — <span class="author">${l}</span>\n                    `)}).fail(function(o){console.log("error",o)}),o(window).on("popstate",function(){window.location.replace(e)})}),o("#quote-submission-form").on("submit",function(e){e.preventDefault();let t=o("#quote-author").val().trim().length<1?null:o("#quote-author").val(),n=o("#quote-content").val().trim().length<1?null:o("#quote-content").val(),u=o("#quote-source").val().trim().length<1?null:o("#quote-source").val(),s=o("#quote-source-url").val().trim().length<1?null:o("#quote-source-url").val();o.ajax({method:"post",url:qod_api.rest_url+"wp/v2/posts",data:{title:t,content:n,_qod_quote_source:u,_qod_quote_source_url:s},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_api.wpapi_nonce)}}).fail(function(o){console.log(o)}).done(function(){o("#quote-submission-form").slideUp(400,function(){o(".quote-submission-wrapper").html("Thanks, your quote submission was received!")})})})})}(jQuery);